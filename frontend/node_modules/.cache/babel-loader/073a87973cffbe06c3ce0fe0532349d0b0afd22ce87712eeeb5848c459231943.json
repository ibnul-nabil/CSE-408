{"ast":null,"code":"var _jsxFileName = \"E:\\\\BUET CLASS\\\\Lab\\\\Software\\\\Original-Project\\\\frontend\\\\src\\\\pages\\\\FinalizeRoutePage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from \"../context/AuthContext\";\nimport './FinalizeRoutePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FinalizeRoutePage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    selectedDestinations\n  } = location.state || {\n    selectedDestinations: []\n  };\n  const {\n    token\n  } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const handleConfirm = async () => {\n    setLoading(true);\n    const stops = [];\n    selectedDestinations.forEach(({\n      destination,\n      subplaces\n    }) => {\n      stops.push({\n        placeType: \"Destination\",\n        placeId: destination.id,\n        stopOrder: stops.length + 1\n      });\n      subplaces.forEach(sub => {\n        stops.push({\n          placeType: \"SubPlace\",\n          placeId: sub.id,\n          stopOrder: stops.length + 1\n        });\n      });\n    });\n    const body = {\n      title: \"New Tour\",\n      // Placeholder, actual title should be provided\n      startDate: \"2024-05-01\",\n      // Placeholder, actual start date should be provided\n      endDate: \"2024-05-07\",\n      // Placeholder, actual end date should be provided\n      estimatedCost: 1000,\n      // Placeholder, actual estimated cost should be provided\n      route: {\n        routeSource: \"user\",\n        stops\n      }\n    };\n    const res = await fetch(\"/api/tours\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    });\n    setLoading(false);\n    if (res.ok) {\n      const data = await res.json();\n      alert(\"Tour created! ID: \" + data.id);\n      // Redirect or update UI as needed\n    } else {\n      const err = await res.text();\n      alert(\"Failed to create tour: \" + err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"finalize-route-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-btn\",\n      onClick: () => navigate(-1),\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"finalize-route-title\",\n      children: \"Your Finalized Route\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), selectedDestinations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"finalize-route-empty\",\n      children: \"No route selected.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aesthetic-timeline\",\n      children: selectedDestinations.map(({\n        destination,\n        subplaces\n      }, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aesthetic-timeline-event\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), idx !== selectedDestinations.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-connector\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-name\",\n            children: destination.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-type\",\n            children: destination.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), subplaces.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-mini-timeline\",\n            children: subplaces.map((sub, subIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aesthetic-mini-timeline-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 25\n              }, this), subIdx !== subplaces.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-connector\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 61\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"aesthetic-mini-timeline-label\",\n                children: sub.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this)]\n            }, sub.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, destination.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleConfirm,\n      disabled: loading,\n      children: loading ? \"Creating...\" : \"Confirm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalizeRoutePage, \"WqCsu46N9X4hS091363HYq5SIGo=\", false, function () {\n  return [useLocation, useNavigate, useAuth];\n});\n_c = FinalizeRoutePage;\nexport default FinalizeRoutePage;\nvar _c;\n$RefreshReg$(_c, \"FinalizeRoutePage\");","map":{"version":3,"names":["React","useContext","useState","useLocation","useNavigate","useAuth","jsxDEV","_jsxDEV","FinalizeRoutePage","_s","location","navigate","selectedDestinations","state","token","loading","setLoading","handleConfirm","stops","forEach","destination","subplaces","push","placeType","placeId","id","stopOrder","length","sub","body","title","startDate","endDate","estimatedCost","route","routeSource","res","fetch","method","headers","JSON","stringify","ok","data","json","alert","err","text","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","idx","name","type","subIdx","disabled","_c","$RefreshReg$"],"sources":["E:/BUET CLASS/Lab/Software/Original-Project/frontend/src/pages/FinalizeRoutePage.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport './FinalizeRoutePage.css';\r\n\r\nconst FinalizeRoutePage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { selectedDestinations } = location.state || { selectedDestinations: [] };\r\n  const { token } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleConfirm = async () => {\r\n    setLoading(true);\r\n    const stops = [];\r\n    selectedDestinations.forEach(({ destination, subplaces }) => {\r\n      stops.push({\r\n        placeType: \"Destination\",\r\n        placeId: destination.id,\r\n        stopOrder: stops.length + 1\r\n      });\r\n      subplaces.forEach(sub => {\r\n        stops.push({\r\n          placeType: \"SubPlace\",\r\n          placeId: sub.id,\r\n          stopOrder: stops.length + 1\r\n        });\r\n      });\r\n    });\r\n    const body = {\r\n      title: \"New Tour\", // Placeholder, actual title should be provided\r\n      startDate: \"2024-05-01\", // Placeholder, actual start date should be provided\r\n      endDate: \"2024-05-07\", // Placeholder, actual end date should be provided\r\n      estimatedCost: 1000, // Placeholder, actual estimated cost should be provided\r\n      route: {\r\n        routeSource: \"user\",\r\n        stops\r\n      }\r\n    };\r\n\r\n    const res = await fetch(\"/api/tours\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(body)\r\n    });\r\n\r\n    setLoading(false);\r\n    if (res.ok) {\r\n      const data = await res.json();\r\n      alert(\"Tour created! ID: \" + data.id);\r\n      // Redirect or update UI as needed\r\n    } else {\r\n      const err = await res.text();\r\n      alert(\"Failed to create tour: \" + err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"finalize-route-container\">\r\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>&larr; Back</button>\r\n      <h1 className=\"finalize-route-title\">Your Finalized Route</h1>\r\n      {selectedDestinations.length === 0 ? (\r\n        <div className=\"finalize-route-empty\">No route selected.</div>\r\n      ) : (\r\n        <div className=\"aesthetic-timeline\">\r\n          {selectedDestinations.map(({ destination, subplaces }, idx) => (\r\n            <div key={destination.id} className=\"aesthetic-timeline-event\">\r\n              <div className=\"aesthetic-timeline-dot\" />\r\n              {idx !== selectedDestinations.length - 1 && <div className=\"aesthetic-timeline-connector\" />}\r\n              <div className=\"aesthetic-timeline-content\">\r\n                <div className=\"aesthetic-destination-name\">{destination.name}</div>\r\n                <div className=\"aesthetic-destination-type\">{destination.type}</div>\r\n                {subplaces.length > 0 && (\r\n                  <div className=\"aesthetic-mini-timeline\">\r\n                    {subplaces.map((sub, subIdx) => (\r\n                      <div key={sub.id} className=\"aesthetic-mini-timeline-item\">\r\n                        <div className=\"aesthetic-mini-timeline-dot\" />\r\n                        {subIdx !== subplaces.length - 1 && <div className=\"aesthetic-mini-timeline-connector\" />}\r\n                        <span className=\"aesthetic-mini-timeline-label\">{sub.name}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <button onClick={handleConfirm} disabled={loading}>\r\n        {loading ? \"Creating...\" : \"Confirm\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalizeRoutePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\BUET CLASS\\\\Lab\\\\Software\\\\Original-Project\\\\frontend\\\\src\\\\pages\\\\FinalizeRoutePage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport AuthContext from \"../context/AuthContext\";\nimport './FinalizeRoutePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FinalizeRoutePage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    selectedDestinations\n  } = location.state || {\n    selectedDestinations: []\n  };\n  const {\n    token\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const handleConfirm = async () => {\n    setLoading(true);\n    const body = {\n      title: \"New Tour\",\n      // Placeholder, actual title should be provided\n      startDate: \"2024-05-01\",\n      // Placeholder, actual start date should be provided\n      endDate: \"2024-05-07\",\n      // Placeholder, actual end date should be provided\n      estimatedCost: 1000,\n      // Placeholder, actual estimated cost should be provided\n      route: {\n        routeSource: \"user\",\n        stops: selectedDestinations.map(({\n          destination,\n          subplaces\n        }, idx) => ({\n          placeType: destination.type,\n          placeId: destination.id,\n          stopOrder: idx + 1\n        }))\n      }\n    };\n    const res = await fetch(\"/api/tours\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    });\n    setLoading(false);\n    if (res.ok) {\n      const data = await res.json();\n      alert(\"Tour created! ID: \" + data.id);\n      // Redirect or update UI as needed\n    } else {\n      const err = await res.text();\n      alert(\"Failed to create tour: \" + err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"finalize-route-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-btn\",\n      onClick: () => navigate(-1),\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"finalize-route-title\",\n      children: \"Your Finalized Route\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), selectedDestinations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"finalize-route-empty\",\n      children: \"No route selected.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aesthetic-timeline\",\n      children: selectedDestinations.map(({\n        destination,\n        subplaces\n      }, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aesthetic-timeline-event\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), idx !== selectedDestinations.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-connector\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-name\",\n            children: destination.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-type\",\n            children: destination.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), subplaces.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-mini-timeline\",\n            children: subplaces.map((sub, subIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aesthetic-mini-timeline-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 25\n              }, this), subIdx !== subplaces.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-connector\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 61\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"aesthetic-mini-timeline-label\",\n                children: sub.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 25\n              }, this)]\n            }, sub.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, destination.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleConfirm,\n      disabled: loading,\n      children: loading ? \"Creating...\" : \"Confirm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalizeRoutePage, \"5ULcE3y+/glc2rRJLUEt3Bu0MRk=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = FinalizeRoutePage;\nexport default FinalizeRoutePage;\nvar _c;\n$RefreshReg$(_c, \"FinalizeRoutePage\");","map":{"version":3,"names":["React","useContext","useState","useLocation","useNavigate","AuthContext","jsxDEV","_jsxDEV","FinalizeRoutePage","_s","location","navigate","selectedDestinations","state","token","loading","setLoading","handleConfirm","body","title","startDate","endDate","estimatedCost","route","routeSource","stops","map","destination","subplaces","idx","placeType","type","placeId","id","stopOrder","res","fetch","method","headers","JSON","stringify","ok","data","json","alert","err","text","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","name","sub","subIdx","disabled","_c","$RefreshReg$"],"sources":["E:/BUET CLASS/Lab/Software/Original-Project/frontend/src/pages/FinalizeRoutePage.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport AuthContext from \"../context/AuthContext\";\r\nimport './FinalizeRoutePage.css';\r\n\r\nconst FinalizeRoutePage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { selectedDestinations } = location.state || { selectedDestinations: [] };\r\n  const { token } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleConfirm = async () => {\r\n    setLoading(true);\r\n    const body = {\r\n      title: \"New Tour\", // Placeholder, actual title should be provided\r\n      startDate: \"2024-05-01\", // Placeholder, actual start date should be provided\r\n      endDate: \"2024-05-07\", // Placeholder, actual end date should be provided\r\n      estimatedCost: 1000, // Placeholder, actual estimated cost should be provided\r\n      route: {\r\n        routeSource: \"user\",\r\n        stops: selectedDestinations.map(({ destination, subplaces }, idx) => ({\r\n          placeType: destination.type,\r\n          placeId: destination.id,\r\n          stopOrder: idx + 1\r\n        }))\r\n      }\r\n    };\r\n\r\n    const res = await fetch(\"/api/tours\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(body)\r\n    });\r\n\r\n    setLoading(false);\r\n    if (res.ok) {\r\n      const data = await res.json();\r\n      alert(\"Tour created! ID: \" + data.id);\r\n      // Redirect or update UI as needed\r\n    } else {\r\n      const err = await res.text();\r\n      alert(\"Failed to create tour: \" + err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"finalize-route-container\">\r\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>&larr; Back</button>\r\n      <h1 className=\"finalize-route-title\">Your Finalized Route</h1>\r\n      {selectedDestinations.length === 0 ? (\r\n        <div className=\"finalize-route-empty\">No route selected.</div>\r\n      ) : (\r\n        <div className=\"aesthetic-timeline\">\r\n          {selectedDestinations.map(({ destination, subplaces }, idx) => (\r\n            <div key={destination.id} className=\"aesthetic-timeline-event\">\r\n              <div className=\"aesthetic-timeline-dot\" />\r\n              {idx !== selectedDestinations.length - 1 && <div className=\"aesthetic-timeline-connector\" />}\r\n              <div className=\"aesthetic-timeline-content\">\r\n                <div className=\"aesthetic-destination-name\">{destination.name}</div>\r\n                <div className=\"aesthetic-destination-type\">{destination.type}</div>\r\n                {subplaces.length > 0 && (\r\n                  <div className=\"aesthetic-mini-timeline\">\r\n                    {subplaces.map((sub, subIdx) => (\r\n                      <div key={sub.id} className=\"aesthetic-mini-timeline-item\">\r\n                        <div className=\"aesthetic-mini-timeline-dot\" />\r\n                        {subIdx !== subplaces.length - 1 && <div className=\"aesthetic-mini-timeline-connector\" />}\r\n                        <span className=\"aesthetic-mini-timeline-label\">{sub.name}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <button onClick={handleConfirm} disabled={loading}>\r\n        {loading ? \"Creating...\" : \"Confirm\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalizeRoutePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
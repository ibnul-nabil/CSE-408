{"ast":null,"code":"var _jsxFileName = \"E:\\\\BUET CLASS\\\\Lab\\\\Software\\\\Original-Project\\\\frontend\\\\src\\\\pages\\\\FinalizeRoutePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './FinalizeRoutePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FinalizeRoutePage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    selectedDestinations\n  } = location.state || {\n    selectedDestinations: []\n  };\n  const [isLoading, setIsLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState('');\n  const handleConfirmTour = async () => {\n    setIsLoading(true);\n    setError('');\n    setSuccess(false);\n    try {\n      const response = await fetch('http://localhost:8080/api/tours', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          destinations: selectedDestinations.map(d => ({\n            destinationId: d.destination.id,\n            subplaces: d.subplaces.map(s => s.id)\n          }))\n        })\n      });\n      if (!response.ok) throw new Error('Failed to confirm tour');\n      setSuccess(true);\n    } catch (err) {\n      setError(err.message || 'Something went wrong');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"finalize-route-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-btn\",\n      onClick: () => navigate(-1),\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"finalize-route-title\",\n      children: \"Your Finalized Route\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), selectedDestinations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"finalize-route-empty\",\n      children: \"No route selected.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aesthetic-timeline\",\n      children: selectedDestinations.map(({\n        destination,\n        subplaces\n      }, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aesthetic-timeline-event\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this), idx !== selectedDestinations.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-connector\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aesthetic-timeline-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-name\",\n            children: destination.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-destination-type\",\n            children: destination.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), subplaces.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aesthetic-mini-timeline\",\n            children: subplaces.map((sub, subIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aesthetic-mini-timeline-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 25\n              }, this), subIdx !== subplaces.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aesthetic-mini-timeline-connector\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 61\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"aesthetic-mini-timeline-label\",\n                children: sub.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 25\n              }, this)]\n            }, sub.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)]\n      }, destination.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), selectedDestinations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '2.5rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"confirm-tour-btn\",\n        onClick: handleConfirmTour,\n        disabled: isLoading,\n        children: isLoading ? 'Confirming...' : 'Confirm Tour'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: \"Tour confirmed successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalizeRoutePage, \"78zJhIJNjWDWXSiTFm8uJz7uphw=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = FinalizeRoutePage;\nexport default FinalizeRoutePage;\nvar _c;\n$RefreshReg$(_c, \"FinalizeRoutePage\");","map":{"version":3,"names":["React","useState","useLocation","useNavigate","jsxDEV","_jsxDEV","FinalizeRoutePage","_s","location","navigate","selectedDestinations","state","isLoading","setIsLoading","success","setSuccess","error","setError","handleConfirmTour","response","fetch","method","headers","body","JSON","stringify","destinations","map","d","destinationId","destination","id","subplaces","s","ok","Error","err","message","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","idx","name","type","sub","subIdx","style","display","justifyContent","marginTop","disabled","_c","$RefreshReg$"],"sources":["E:/BUET CLASS/Lab/Software/Original-Project/frontend/src/pages/FinalizeRoutePage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport './FinalizeRoutePage.css';\r\n\r\nconst FinalizeRoutePage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { selectedDestinations } = location.state || { selectedDestinations: [] };\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleConfirmTour = async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    setSuccess(false);\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/tours', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          destinations: selectedDestinations.map(d => ({\r\n            destinationId: d.destination.id,\r\n            subplaces: d.subplaces.map(s => s.id)\r\n          })),\r\n        }),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to confirm tour');\r\n      setSuccess(true);\r\n    } catch (err) {\r\n      setError(err.message || 'Something went wrong');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"finalize-route-container\">\r\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>&larr; Back</button>\r\n      <h1 className=\"finalize-route-title\">Your Finalized Route</h1>\r\n      {selectedDestinations.length === 0 ? (\r\n        <div className=\"finalize-route-empty\">No route selected.</div>\r\n      ) : (\r\n        <div className=\"aesthetic-timeline\">\r\n          {selectedDestinations.map(({ destination, subplaces }, idx) => (\r\n            <div key={destination.id} className=\"aesthetic-timeline-event\">\r\n              <div className=\"aesthetic-timeline-dot\" />\r\n              {idx !== selectedDestinations.length - 1 && <div className=\"aesthetic-timeline-connector\" />}\r\n              <div className=\"aesthetic-timeline-content\">\r\n                <div className=\"aesthetic-destination-name\">{destination.name}</div>\r\n                <div className=\"aesthetic-destination-type\">{destination.type}</div>\r\n                {subplaces.length > 0 && (\r\n                  <div className=\"aesthetic-mini-timeline\">\r\n                    {subplaces.map((sub, subIdx) => (\r\n                      <div key={sub.id} className=\"aesthetic-mini-timeline-item\">\r\n                        <div className=\"aesthetic-mini-timeline-dot\" />\r\n                        {subIdx !== subplaces.length - 1 && <div className=\"aesthetic-mini-timeline-connector\" />}\r\n                        <span className=\"aesthetic-mini-timeline-label\">{sub.name}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {/* Confirm Tour Button */}\r\n      {selectedDestinations.length > 0 && (\r\n        <div style={{ display: 'flex', justifyContent: 'center', marginTop: '2.5rem' }}>\r\n          <button\r\n            className=\"confirm-tour-btn\"\r\n            onClick={handleConfirmTour}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? 'Confirming...' : 'Confirm Tour'}\r\n          </button>\r\n        </div>\r\n      )}\r\n      {success && (\r\n        <div className=\"success-message\">\r\n          Tour confirmed successfully!\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalizeRoutePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}